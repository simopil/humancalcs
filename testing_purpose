#!/usr/bin/bash

##(printf "%d.%d\n" $(od -An -N4 -i < /dev/urandom) $(od -An -N4 -t u4 < /dev/urandom)##

while [ true ]; do

    num1=$(printf -- "%d.%d\n" $(od -An -N4 -i < /dev/urandom) $(od -An -N4 -t u4 < /dev/urandom))
    num2=$(printf -- "%d.%d\n" $(od -An -N4 -i < /dev/urandom) $(od -An -N4 -t u4 < /dev/urandom))
    string="empty"
    if (( $(echo "$num1 > $num2" |bc -l) )); then
        string="true"
    else
        string="false"
    fi
    
    javastring="$(java -jar build/dist/*.jar $num1 $num2)"
    
    echo "calculating $num1 > $num2  |$string|  |$javastring|"
    if [[ $javastring != $string ]]; then
        echo "broken at"
        echo "$num1 > $num2"
        echo "bash says $string"
        echo "java says $javastring"
        break;
    fi
done

